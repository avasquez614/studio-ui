!function(){"use strict";var e,t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},o=function(e){return e.getContent({source_view:!0})},c=function(t){!function(t){var c=o(t);t.windowManager.open({title:"Code Editor",size:"large",body:{type:"panel",items:[{type:"htmlpanel",html:'<div id="mce-ace-editor-block"></div>',name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:c},onSubmit:function(o){n(t,e.getValue()),o.close()}})}(t),document.getElementsByClassName("tox-dialog--width-lg")[0].classList.add("fullscreen"),(e=ace.edit("mce-ace-editor-block")).setTheme("ace/theme/eclipse"),e.getSession().setMode("ace/mode/html"),e.setOptions({showPrintMargin:!1}),e.getSession().setValue(o(t))},i=function(e){e.addCommand("mceace_codeEditor",function(){c(e)})},a=function(e){e.ui.registry.addButton("acecode",{icon:"sourcecode",tooltip:"Code Editor",onAction:function(){return c(e)}}),e.ui.registry.addMenuItem("acecode",{icon:"sourcecode",text:"Code Editor",onAction:function(){return c(e)}})};t.add("acecode",function(e){return i(e),a(e),{}})}();
